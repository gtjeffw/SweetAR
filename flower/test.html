
<!doctype html>
<html lang="en">
    <head>
        <title>Roots of Auburn Ave</title>
        <link rel="apple-touch-icon" href="icon.png" />
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
        <meta name="arenabled" />

        <link rel="stylesheet" type="text/css" href="flower.css" />
        <link rel="stylesheet" type="text/css" href="menu.css" />

        <script>
            var myAppController =
            {
                onArgonReady : function()
                {
                    ARGON.loadDataset("http://argon.gatech.edu/demos/StonesAndChips.xml");
                },
                
                onDataSetLoaded : function(event)
                {
                    var dataset, stonesTarget, trackedObject;
                    
                    dataset      = event.dataset;
                    stonesTarget = dataset.targets["stones"];
                    
                    if (stonesTarget)
                    {
                        trackedObject        = new ARGON.TrackedObject();
                        trackedObject.name   = "AttachedToStonesTarget"; 
                        
                        trackedObject.autoHideAfterFrames = 1;
                        trackedObject.setTarget( stonesTarget );

						// flower created in flower.js - need to make it into its own class
                        
						flower.init();
						flower.container.id = "cssContent";

                        
                        var cssObject;
                        //cssObject = new THREE.CSSObject(divEl); 
                        cssObject = new THREE.CSSObject(flower.container); 
                        cssObject.width = flower.width;
                        cssObject.height = flower.width*2;
                        cssObject.scale.x = 0.5;
                        cssObject.scale.y = 0.5;
                        cssObject.scale.z = 0.5;
                        cssObject.position.x = 0.0;
                        cssObject.position.y = 125.0 * cssObject.scale.y;
                        cssObject.position.z = 0.0;
                        cssObject.visible = false;
                        
                        //console.log("flower.container width: " + flower.container.style.width);
                        //console.log("flower.container height: " + flower.container.style.height);
                        console.log("cssObject width: " + cssObject.width);
                        console.log("cssObject height: " + cssObject.height);
                        
                        trackedObject.add( cssObject );

                        // add the menu
                        console.log("adding the menu");
                        menu.init();
                        document.body.appendChild(menu.container);

                        //console.log("adding test touch event");
                        //console.log(menu.menuItems[0]);
                        //menu.menuItems[0].addEventListener("touchstart", function() { 
                        //    document.body.appendChild(flower.container);
                        //});
                    }
                }
            };
            
            document.addEventListener("AR.DataSetLoadedEvent", myAppController.onDataSetLoaded);
			document.addEventListener("AR.ArgonReadyEvent", myAppController.onArgonReady);
			
        </script>
    </head>
    <body>
        <script src="flower.js"></script>
        <script src="menu.js"></script>
        <!--
        <script>
            menu.init();
            document.body.appendChild(menu.container);
        </script>
        -->
        <!--
    	<script src="jslog/jslog.js"></script>	
        -->
        <script src="http://jsconsole.com/remote.js?FB892229-EA1D-4C4D-B54E-5A456BD54C4E"></script>
        <script src="http://argon.gatech.edu/argon_o.js"></script>
        
        <!--
        <script src="flower.js"></script>
        -->
    </body>
    
    
</html>            